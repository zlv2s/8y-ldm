<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="icon" href="<%= BASE_URL %>favicon.png" />
    <title>8Y</title>
  </head>

  <body>
    <noscript>
      <strong
        >We're sorry but 8yy doesn't work properly without JavaScript enabled.
        Please enable it to continue.</strong
      >
    </noscript>
    <div id="app"></div>
    <script type="text/javascript">
      let caution = false
      function setCookie(name, value, expires, path, domain, secure) {
        let curCookie =
          name +
          '=' +
          escape(value) +
          (expires ? ';expires=' + expires.toGMTString() : '') +
          (path ? '; path=' + path : '') +
          (domain ? '; domain=' + domain : '') +
          (secure ? ';secure' : '')
        if (!caution || (name + '=' + escape(value)).length <= 4000) {
          document.cookie = curCookie
        } else if (confirm('Cookie exceeds 4KB and will be cut!')) {
          document.cookie = curCookie
        }
      }
      function getCookie(name) {
        let prefix = name + '='
        let cookieStartIndex = document.cookie.indexOf(prefix)
        if (cookieStartIndex == -1) {
          return null
        }
        let cookieEndIndex = document.cookie.indexOf(
          ';',
          cookieStartIndex + prefix.length
        )
        if (cookieEndIndex == -1) {
          cookieEndIndex = document.cookie.length
        }
        return unescape(
          document.cookie.substring(
            cookieStartIndex + prefix.length,
            cookieEndIndex
          )
        )
      }
      function deleteCookie(name, path, domain) {
        if (getCookie(name)) {
          document.cookie =
            name +
            '=' +
            (path ? '; path=' + path : '') +
            (domain ? '; domain=' + domain : '') +
            '; expires=Thu, 01-Jan-70 00:00:01 GMT'
        }
      }
      function fixDate(date) {
        let base = new Date(0)
        let skew = base.getTime()
        if (skew > 0) {
          date.setTime(date.getTime() - skew)
        }
      }
      let now = new Date()
      fixDate(now)
      now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000)
      let visits = getCookie('counter')
      if (!visits) {
        visits = 1
      } else {
        visits = parseInt(visits) + 1
      }
      setCookie('counter', visits, now)
      let info =
        '<p style="text-align: center;">您是到访的第' + visits + '位用户！</p>'
      document.write(info)
    </script>
  </body>
</html>
